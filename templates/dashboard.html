<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>{{ title }}</title>
    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v4.js"></script>

</head>
<body>
    <!-- Create a div where the graph will take place -->
    <div id="my_dataviz"></div>
    <script>

        function point(x, y) {
            this.x = x;
            this.y = y;
        }

        var fpoints = [
            new point(0, .5),
            new point(1.07, .35),
            new point(3.14, .7)
        ];

        // set the dimensions and margins of the graph
        var margin = { top: 10, right: 30, bottom: 30, left: 60 },
            width = 460 - margin.left - margin.right,
            height = 400 - margin.top - margin.bottom;

        // append the svg object to the body of the page
        var svg = d3.select("#my_dataviz")
            .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform",
                "translate(" + margin.left + "," + margin.top + ")");
       
        // x-axis
        var xaxis = d3.scaleLinear()
            .domain([d3.min(fpoints, function (d) { return +d.x; }), d3.max(fpoints, function (d) { return +d.x; })])
            .range([0, width]);

        svg.append("g")
            .attr("transform", "translate(0," + height + ")")
            .call(d3.axisBottom(xaxis).ticks(7));
        // y-axis
        var yaxis = d3.scaleLinear()
            .domain([d3.min([0, d3.min(fpoints, function (d) { return +d.y; })]),
            d3.max(fpoints, function (d) { return +d.y; })])
            .range([height, 0]);
        svg.append("g")
            .call(d3.axisLeft(yaxis).ticks(10));


        // Add the line
        svg.append("path")
            .datum(fpoints)
            .attr("fill", "none")
            .attr("stroke", "steelblue")
            .attr("stroke-width", 1.5)
            .attr("d", d3.line()
                .x(function (d) { return xaxis(d.x); })
                .y(function (d) { return yaxis(d.y); })
            )



    </script>
</body>
</html>